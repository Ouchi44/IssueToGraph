Per the discussion above, I added config       &lt;property&gt; &lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt; &lt;value&gt;=JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME&lt;/value&gt; &lt;/property&gt;       to yarn-site.xml   and ran into the following issue       Container exited with a non-zero exit code 127. Last 4096 bytes of stderr : /bin/bash: /bin/java: No such file or directory       Then I created a soft link from the java I am using to /bin/java, and it works now.   It seems the code has a hardcoded dependency on the existence of /bin/java. Can we find the java in the path setting instead?   Thanks.